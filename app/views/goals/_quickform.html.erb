<%= form_for @goal, :html => {:class => 'quick_goal_form'} do |f| %>
    <% if @goal.errors.any? %>
        <div id="error_explanation">
            <h2><%= pluralize(@goal.errors.count, "error") %> prohibited this goal from being saved:</h2>

            <ul>
            <% @goal.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
            </ul>
        </div>
    <% end %>
    <%= f.hidden_field :parent_id %>

    <div>
        <%= f.label :name, 'Add a goal', :class => 'goal_name' %><br />
        <%= f.text_field :name, :placeholder => 'New Goal' %>
    </div>

    <%= f.submit :disable_with => "creating.." %>

    <div class='inline-field right'>
        <%= f.label :points %>
        <%= f.text_field :points, :value => 10, :maxlength => 4 %>
    </div>


    <a class='more-options'>+ more options</a>

    <section class='extra-options'>
        
        <div>
            <%= f.label :description, 'Description' %>
            <%= f.text_area :description, :placeholder => 'Enter a description', :rows => 3 %>
        </div>


        <div class='has-deadline'>
            <br />
            <%= f.check_box :has_deadline %>
            <%= f.label :has_deadline, 'Add a deadline', :class => 'checkbox-label' %>
        </div>

        <div class='deadline-form'>
            <%= f.label :deadline, 'Deadline' %> 
            <div>
                <%= f.date_select :deadline, :placeholder => 'Enter a description' %>
            </div>
        </div>

        <br />
        <%= f.fields_for current_user do |ff| %>
            <div>
                <%= ff.check_box :auto_add %>
                <%= ff.label :auto_add, 'Automatically add to month', :class => 'checkbox-label' %> 
            </div>
        <% end %>

    </section>

<% end %>
